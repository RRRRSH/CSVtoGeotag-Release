# CSVtoGeotag — EXE使用说明

概览
- 功能：将 一生足迹 导出的 CSV（或已有 GPX）中的轨迹点写入照片的 GPS 元数据（geotag）；支持批量、递归和干跑预览；自带 ExifTool，无需额外安装。
- 目标用户：不熟悉命令行的摄影爱好者或旅行记录用户。

如何运行.exe
1. 找到release里的.exe文件。
2. 双击 `CSVtoGeotag.exe` 启动程序，等待界面出现。

主界面快速说明（界面项以标签/输入框为准）
- `ExifTool 路径`：程序会优先使用内置的 ExifTool。如果你的包已经包含 ExifTool，可保持默认；否则可在该项选择本机的 exiftool 可执行文件（可选）。
- `GPX 文件`：当你已有轨迹文件（GPX）时在此选择；程序会用它来给照片打标。
- `串联 CSV->GPX->Geotag`：勾选后会先把选中的 CSV（通常是 Footprint 导出的 `backUpData.csv`）转换为 GPX，然后使用生成的 GPX 进行照片标注（整个流程在界面内完成）。
- `CSV 文件 / GPX 输出`：仅在勾选串联时可用，用于选择输入的 CSV 和指定生成的 GPX 文件保存位置。
- - `节选时间`：可以选择导出指定时间范围的gpx。如果不勾选，则默认导出全部路径。
- `照片目录`：选择要处理的照片文件夹（支持递归扫描子文件夹）。
- 一般情况下不需要修改。 `时间偏移 (geosync)`：当照片与轨迹时间存在固定差值时填写（例如相机时间比轨迹时间慢 8 小时可填写 `-8:00`）；一般用户可留空。
- 一般情况下不需要修改。 `自动时区换算`：尝试自动识别并修正常见时区偏差，仅在你不确定如何填写 geosync 时使用；默认关闭。一般情况下不需要修改。
- `最大时间差 (秒)`：照片与轨迹点匹配允许的最大时间差（默认 300），增大可提高匹配率但可能误配。
- `照片后缀筛选`：只处理指定后缀（如 `jpg,jpeg,heic`），方便只处理图片文件。
功能暂未实现- `干跑 (dry-run)`：启用后程序不会修改原始文件，而是在临时目录生成结果，供你确认；默认关闭。
- `日志文件`：可指定一个文件路径把 ExifTool 的输出保存，方便排查问题。

典型使用流程（双击后在 GUI 中完成）
1. 如果你只有 CSV（来自 Footprint）：勾选 `串联 CSV->GPX->Geotag` → 选择 CSV → 指定一个 GPX 输出路径 → 选择 `照片目录` → 调整可选项（如 `最大时间差`）→ 点击“开始”。
2. 如果你已有 GPX：直接选择 `GPX 文件` → 选择 `照片目录` → 调整可选项 → 点击“开始”。

常见问题与建议（无需命令行）
- 照片没有被正确打标：检查是否选择了正确的 `GPX 文件` 或是否勾选了 `串联 CSV->GPX->Geotag` 并选择了正确的 CSV。尝试开启 `干跑` 预览以查看匹配情况。
- 时间偏差问题（例如照片看起来提前或滞后固定小时数）：若你知道偏差，可在 `时间偏移` 中填写；不确定时可尝试开启 `自动时区换算`（若程序提示不支持则请留空）。
- 找不到 ExifTool：如果 EXE 包内没有包含 ExifTool，请在界面中手动选择本机已安装的 ExifTool 可执行文件。
- 日志有助于排查：若操作不成功，请启用并查看 `日志文件` 中的输出，或将日志发给开发者以获得帮助。

